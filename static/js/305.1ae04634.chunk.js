"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[305],{3305:function(e,n,t){t.r(n),t.d(n,{default:function(){return U}});var a,r,o,i,c,s,u,d,l,h,f,m,x=t(2791),p=t(9434),v=t(168),Z=t(8789),C=Z.ZP.div(a||(a=(0,v.Z)(["\n  \n"]))),b=Z.ZP.h2(r||(r=(0,v.Z)(["\n  \n"]))),j=t(885),g=Z.ZP.form(o||(o=(0,v.Z)([""]))),w=Z.ZP.label(i||(i=(0,v.Z)([""]))),P=Z.ZP.input(c||(c=(0,v.Z)([""]))),k=Z.ZP.button(s||(s=(0,v.Z)([""]))),y=t(1312),L=function(){var e=(0,p.v9)((function(e){return e.contacts.items})),n=(0,p.v9)((function(e){return e.contacts.filter})),t=(0,p.v9)((function(e){return e.contacts.loader})),a=(0,p.v9)((function(e){return e.contacts.addLoader})),r=(0,p.v9)((function(e){return e.contacts.error})),o=(0,p.I0)();return{contacts:e,filter:n,loader:t,addLoader:a,error:r,getContacts:function(){o(y.mh.getContacts())},addContact:function(e){o(y.mh.addContact(e))},deleteContact:function(e){o(y.mh.deleteContact(e))},editContact:function(e){var n=e.id,t=e.name,a=e.number;o(y.mh.editContact({id:n,name:t,number:a}))},setFilter:function(e){o((0,y.M6)(e))}}},F=t(8191),N=t(5218),S=t(184),A=function(){var e=(0,x.useState)(""),n=(0,j.Z)(e,2),t=n[0],a=n[1],r=(0,x.useState)(""),o=(0,j.Z)(r,2),i=o[0],c=o[1],s=(0,x.useId)(),u=(0,x.useId)(),d=L(),l=d.contacts,h=d.addLoader,f=d.addContact,m=function(e){var n=e.target,t=n.name,r=n.value;switch(t){case"name":a(r);break;case"number":c(r);break;default:return}},p=function(){a(""),c("")};return(0,S.jsxs)(g,{onSubmit:function(e){if(e.preventDefault(),l.find((function(e){return e.name.toLowerCase()===t.toLowerCase()})))return N.ZP.error("This contact: '".concat(t,"' is already in phonebook"),{duration:2e3,position:"top-center"}),void p();f({name:t,number:(0,F._)("+".concat(i)).getURI()}),p()},autoComplete:"off",children:[(0,S.jsx)(w,{htmlFor:s,children:"Name"}),(0,S.jsx)(P,{id:s,type:"text",name:"name",value:t,pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",title:"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan",required:!0,onChange:m,placeholder:"full name"}),(0,S.jsx)(w,{htmlFor:u,children:"Number"}),(0,S.jsx)(P,{id:u,type:"tel",name:"number",value:i,pattern:"\\+?\\d{1,4}?[-.\\s]?\\(?\\d{1,3}?\\)?[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,9}",title:"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +",required:!0,onChange:m,placeholder:"phone number xxx-xx-xx"}),(0,S.jsxs)(k,{disabled:h,children:[" ",h?"Adding...":"Add contact"]})]})},I=Z.ZP.li(u||(u=(0,v.Z)(["\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  font-weight: 500;\n  width: 100%;\n  &:not(:last-child) {\n  }\n"]))),_=Z.ZP.button(d||(d=(0,v.Z)(["\n  width: 75px;\n  height: 25px;\n\n  cursor: pointer;\n  &:hover,\n  &:focus {\n    box-shadow: 0px 0px 7px #fff;\n  }\n"]))),z=Z.ZP.div(l||(l=(0,v.Z)([""]))),D=function(e){var n=e.id,t=e.name,a=e.number,r=(0,x.useState)(null),o=(0,j.Z)(r,2),i=o[0],c=o[1],s=(0,x.useState)(t),u=(0,j.Z)(s,2),d=u[0],l=u[1],h=(0,x.useState)(a),f=(0,j.Z)(h,2),m=f[0],p=f[1],v=(0,x.useState)(!1),Z=(0,j.Z)(v,2),C=Z[0],b=Z[1],g=L(),w=g.contacts,P=g.loader,k=g.deleteContact,y=g.editContact,F=function(e){var n=e.target,t=n.name,a=n.value;switch(t){case"editedName":return l(a);case"editedNumber":return p(a);default:return}};return(0,S.jsxs)(I,{children:[C?(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)("input",{typeof:"text",name:"editedName",value:d,onChange:F}),(0,S.jsx)("input",{typeof:"text",name:"editedNumber",value:m,onChange:F})]}):(0,S.jsxs)(S.Fragment,{children:[(0,S.jsxs)("span",{children:[t,":"]}),(0,S.jsx)("span",{children:a})]}),(0,S.jsxs)(z,{children:[(0,S.jsx)(_,{onClick:function(){if(C){if(t===d&&a===m)return void b((function(e){return!e}));if(w.find((function(e){return e.name.toLowerCase()===d.toLowerCase()&&e.id!==n})))return void(0,N.ZP)("Name ".concat(d," exist"));y({id:n,name:d,number:m})}b((function(e){return!e}))},children:C?"Save":"Edit"}),(0,S.jsx)(_,{disabled:i,onClick:function(){k(n),c(n)},children:P&&i?"Deleting...":"Delete"})]})]})},q=Z.ZP.ul(h||(h=(0,v.Z)([""]))),E=function(e){var n=e.contacts;return(0,S.jsx)(q,{children:n.map((function(e){var n=e.id,t=e.name,a=e.number;return(0,S.jsx)(D,{id:n,name:t,number:a},n)}))})},M=Z.ZP.label(f||(f=(0,v.Z)(["\n  display: block;\n"]))),T=Z.ZP.input.attrs({type:"text"})(m||(m=(0,v.Z)(["\n  width: 200px;\n"]))),B=function(e){var n=e.value,t=e.onChange;return(0,S.jsxs)(M,{children:["Filter:",(0,S.jsx)(T,{name:"filter",value:n,onChange:t})]})},J=t(3639),R=t.n(J),U=function(){var e=(0,p.I0)(),n=L(),t=n.contacts,a=n.filter,r=n.loader,o=n.setFilter;(0,x.useEffect)((function(){e(y.mh.getContacts())}),[e]);var i=function(){if(0!==t.length&&"string"!==typeof t){var e=a.toLowerCase();return t.filter((function(n){return n.name.toLowerCase().includes(e)}))}return[]}();return(0,S.jsx)(z,{children:(0,S.jsxs)(C,{children:[(0,S.jsx)(b,{children:"Phonebook"}),(0,S.jsx)(A,{}),(0,S.jsx)(b,{children:"Contacts"}),(0,S.jsxs)(z,{children:[(0,S.jsx)(B,{value:a,onChange:function(e){var n=e.target.value;o(n)}}),(0,S.jsxs)("h3",{children:["Total contacts: ",i.length]})]}),r?R().threeCircles:(0,S.jsx)(E,{contacts:i})]})})}}}]);
//# sourceMappingURL=305.1ae04634.chunk.js.map